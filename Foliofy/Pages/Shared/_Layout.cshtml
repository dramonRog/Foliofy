@using Microsoft.AspNetCore.Authentication.Cookies;

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Foliofy</title>
    <link rel="stylesheet" href="~/assets/css/normalize.css">
    <link rel="stylesheet" href="~/assets/css/font.css">
    <link rel="stylesheet" href="~/assets/css/styles.css">
    @RenderSection("Styles", required: false)
</head>
<body>
    <header class="header">
        <div class="container">
            <a asp-page="/home" class="logo-link"><img src="~/assets/images/icons/logo.svg" alt="logo" class="logo"></a>
            <nav class="nav">
                <ul class="link__list hidden">
                    <li class="link__item"><a href="#" class="@(User.Identity.IsAuthenticated ? "nav-link" : "nav-link authenticate")">Gallery</a></li>
                    <li class="link__item"><a href="#" class="@(User.Identity.IsAuthenticated ? "nav-link" : "nav-link authenticate")">Explore</a></li>
                    <li class="link__item"><a href="#" class="nav-link">Community</a></li>
                    <li class="link__item"><a href="#" class="nav-link">About</a></li>
                </ul>
                <div class="profile-link" id="profile-link">
                    <a asp-page="/profile/profile">
                        @{
                            var iconPath = @User.FindFirst("icons")?.Value;
                            var defaultIconPath = Url.Content("~/assets/images/icons/profile-icon.svg");
                            iconPath = String.IsNullOrEmpty(iconPath) ? defaultIconPath : iconPath;
                        }
                        <img src="@iconPath" alt="Profile Icon" />
                    </a>
              
                    <div class="profile__toggle">
                        @if (User.Identity.IsAuthenticated) {
                            <a asp-page="/profile/profile" class="profile__toggle-link">My Profile</a>
                            <a asp-page="/profile/profile" class="profile__toggle-link">My Projects</a>
                            <a asp-page="/AccountActions/login" asp-page-handler="Login" class="profile__toggle-link login-link">Switch Account</a>
                            <a asp-page="/AccountActions/logout" asp-page-handler="Logout" class="profile__toggle-link">Logout</a>
                        }
                        else {
                            <a asp-page="/AccountActions/login" asp-page-handler="Login" class="profile__toggle-link login-link">Sign In</a>
                            <a asp-page="/AccountActions/register" asp-page-handler="Register" class="profile__toggle-link" id="register-link">Sign Up</a>
                        }
                    </div>
                </div>
                <div class="burger-menu">
                    <span class="line"></span>
                    <span class="line"></span>
                    <span class="line"></span>
                </div>
            </nav>
        </div>
    </header>

    @RenderBody()

    <footer class="footer">
        <div class="container">
            <div class="footer-contacts">
                <a href="#" class="logo-link"><img class="logo" src="~/assets/images/icons/logo.svg" alt="logo"></a>
                <div class="contact-links-list">
                    <a href="#" class="contact-link"><img src="~/assets/images/icons/footer/twitter.svg" alt="twitter"></a>
                    <a href="#" class="contact-link"><img src="~/assets/images/icons/footer/facebook.svg" alt="facebook"></a>
                    <a href="#" class="contact-link"><img src="~/assets/images/icons/footer/instagram.svg" alt="instagram"></a>
                    <a href="#" class="contact-link"><img src="~/assets/images/icons/footer/likedin.svg" alt="likedin"></a>
                </div>
            </div>
            <div class="link-part">
                <div class="footer-links">
                    <div class="link-list">
                        <span class="section">Platform</span>
                        <ul class="section-links">
                            <li class="link-item"><a href="#">Portfolio</a></li>
                            <li class="link-item"><a href="#">Features</a></li>
                            <li class="link-item"><a href="#">Pricing</a></li>
                            <li class="link-item"><a href="#">Testimonials</a></li>
                        </ul>
                    </div>
                    <div class="link-list">
                        <span class="section">Resources</span>
                        <ul class="section-links">
                            <li class="link-item"><a href="#">Blog</a></li>
                            <li class="link-item"><a href="#">Help Center</a></li>
                            <li class="link-item"><a href="#">Guides</a></li>
                            <li class="link-item"><a href="#">Community</a></li>
                        </ul>
                    </div>
                    <div class="link-list">
                        <span class="section">Company</span>
                        <ul class="section-links">
                            <li class="link-item"><a href="#">About</a></li>
                            <li class="link-item"><a href="#">Contact</a></li>
                            <li class="link-item"><a href="#">Press</a></li>
                            <li class="link-item"><a href="#">Careers</a></li>
                        </ul>
                    </div>
                    <div class="link-list">
                        <span class="section">Support</span>
                        <ul class="section-links">
                            <li class="link-item"><a href="#">FAQs</a></li>
                            <li class="link-item"><a href="#">Report an Issue</a></li>
                            <li class="link-item"><a href="#">Account Help</a></li>
                            <li class="link-item"><a href="#">Submit Feedback</a></li>
                        </ul>
                    </div>
                    <div class="link-list">
                        <span class="section">Legal</span>
                        <ul class="section-links">
                            <li class="link-item"><a href="#">Terms of Service</a></li>
                            <li class="link-item"><a href="#">Privacy Policy</a></li>
                            <li class="link-item"><a href="#">Cookie Settings</a></li>
                            <li class="link-item"><a href="#">Licensing</a></li>
                        </ul>
                    </div>
                    <div class="link-list">
                        <span class="section">For creators</span>
                        <ul class="section-links">
                            <li class="link-item"><a href="#">Submit a project</a></li>
                            <li class="link-item"><a href="#">Creator Guideslines</a></li>
                            <li class="link-item"><a href="#">Tips & Tutorials</a></li>
                            <li class="link-item"><a href="#">Collaboration board</a></li>
                        </ul>
                    </div>
                </div>
                <div class="connection">
                    <form class="connection-form">
                        <div class="connection-field">
                            <label for="connectEmail">Stay connected</label>
                            <input id="connectEmail" type="text" placeholder="Enter your email">
                        </div>
                        <button class="connection-btn">Subscribe</button>
                    </form>
                    <img class="connection-img" src="~/assets/images/img/footer-illustration.png" alt="illustration">
                </div>
            </div>
            <p class="footer-rights">© 2024 Foliofy. All rights reserved. Built with creativity and care for designers everywhere.</p>
        </div>
    </footer>

    <div class="modal-success">
        <div class="close-btn">
            <span></span>
            <span></span>
        </div>
    </div>

    <script type="module" src="~/assets/js/main.js"></script>
    @RenderSection("Scripts", required: false)
</body>
</html>